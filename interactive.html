<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Interaction demo page</title>
		<link type="text/css" rel="stylesheet" href="css/visualize.css"/>
		<!-- <link type="text/css" rel="stylesheet" href="css/visualize-dark.css"/> -->
		<link type="text/css" rel="stylesheet" href="demopage.css"/>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
		<!--[if IE]><script type="text/javascript" src="excanvas.compiled.js"></script><![endif]-->
		<script type="text/javascript" src="visualize.jQuery.js"></script>
		<script src="tooltip.visualize.jQuery.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function(){
				//make some charts
				$('table.pie').visualize({
					type: 'pie',
					pieMargin: 10,
					title: '2009 Total Sales by Individual',
					interaction: true,
					tooltip: true
				});	
				$('table.line').visualize({
					type: 'line',
					lineDots: 'double',
					interaction: true,
					tooltip: true
				});
				
				// Change inner color on mouseover intecation
				if(!$.browser.msie) { // IE is a bit slow, but is possible. Future versions may solve this problem
					var currentHoverPoint = null;
					// listen for hovering events
					$('table.line')
						.bind('vizualizeOver',function(e,data){
							currentHoverPoint = data.point;
							$(data.point.elem).parents('table').trigger('visualizeRedraw');
						})
						.bind('vizualizeOut',function(e,data){
							currentHoverPoint = null;
							$(data.point.elem).parents('table').trigger('visualizeRedraw');
						});
				
					// Modify painting for hovering effect
					$('table.line').bind('vizualizeBeforeDraw',function hoverBeforeDraw(e,data){
						if(currentHoverPoint) {
							var item,i,j,len = data.tableData.allItems.length;
							for(i=0;i<len;i+=1) { item = data.tableData.allItems[i];
								if(currentHoverPoint == item) {
									item.innerColor = item.color;
									// item.dotSize = item.dotSize*1.4;
									// item.dotInnerSize = item.dotInnerSize*1.4;
								}
							}
						}
					});
					
				}
				
				
			});
		</script>
	</head>
	<body>
<h1>jQuery Visualize demos</h1>
<p><a href="index.html">Return to basic demos.</a></p>

<h2>Charts from the same data</h2>

<table class="pie line">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
			<th>auto</th>
			<th>household</th>
			<th>furniture</th>
			<th>kitchen</th>
			<th>bath</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>190</td>
			<td>0</td>
			<td>40</td>
			<td>120</td>
			<td>30</td>
			<td>-70</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>-3</td>
			<td>40</td>
			<td>30</td>
			<td>45</td>
			<td>35</td>
			<td>49</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>10</td>
			<td>180</td>
			<td>10</td>
			<td>85</td>
			<td>25</td>
			<td>79</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>40</td>
			<td>80</td>
			<td>90</td>
			<td>25</td>
			<td>15</td>
			<td>119</td>
		</tr>
	</tbody>
</table>

	</body>
</html>
